# 层次分析法（AHP）
* 目标
* 准则
* 方案
## 基本步骤：
1. 构建层次结构模型
2. 构建**判断矩阵**并计算权重
   * n个指标对应n个判断矩阵
3. 一致性检验

### 判断矩阵：
![](images/2022-08-04-12-20-20.png)
![](images/2022-08-04-12-25-51.png)
1. 算术平均法
   ![](images/2022-08-04-12-30-26.png)
2. 几何平均法
   ![](images/2022-08-04-12-31-22.png)
3. 特征值法
   ![](images/2022-08-04-12-31-38.png)
### 判断矩阵的一致性
**即判断判断矩阵是否满足$a_{ij}=a_{ik}*a{kj}$**
* 检验标准
  ![](images/2022-08-04-12-35-13.png)
1. 计算一致性指标CI
2. 查找对应的平均随机一致性指标RI
3. 计算一致性比例CR=CI/RI
   * 若小于0.1则说明判断矩阵满足一致性


# 2.优劣解距离法（Topsis)
## 作用：
精确地反应各评价方案之间的差距
![](../%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9/%E4%BC%98%E5%8A%A3%E8%A7%A3%E8%B7%9D%E7%A6%BB%E6%B3%95.jpg)
## 1.正向化处理
![](images/2022-08-04-14-34-51.png)
* 极小型指标转换为极大型指标的公式：max−x
* 中间型指标转换为极大型指标：
  有{xi}是一组中间型指标序列，且最佳的数值为xbest，那么正向化的公式如下：
  ![](images/2022-08-04-14-36-10.png)
* 区间型指标转换为极大型指标：
  有{xi}是一组中间型指标序列，且最佳的区间为[a,b],那么正向化的公式如下：
  M=max{a-min{xi},max{xi}-b}
## 2.将正向化矩阵标准化
* 目的是消除不同指标量纲的影响
* 假设有n个要评价的对象，m个指标（已正向化），构成的正向化矩阵如下：![](images/2022-08-04-14-38-17.png)
* 那么：对其标准化后的矩阵记为Z，Z中的每一个元素：
  ![](images/2022-08-04-14-38-53.png)
## 3.计算并归一化
* 对于标准化后的矩阵Z有：
  ![](images/2022-08-04-14-40-10.png)
  ![](images/2022-08-04-14-40-58.png)
* 很明显，0 ≤$S_{i}$≤ 1 ， 且Si越大$D_{i}^{+}$越小,即,越接近最大值 。 
## 带权重的TOPSIS
![](images/2022-08-04-14-43-20.png)
# 3.模糊综合评价法
via:https://blog.csdn.net/cyj972628089/article/details/107616236
## 步骤：
1. 建立综合评价的因素集
2. 建立综合评价的评价集
3. 确定各因素的权重集
   * [熵权法](https://blog.csdn.net/mycafe_/article/details/79285762)
   * 层次分析法
4. 进行单因素模糊评价，获得评价矩阵
5. 建立综合评价模型
   通过模糊变化将U（因素集）上的模糊向量A（权重）变为V（评价集）上的模糊向量B（概率集）
   ![](images/2022-08-05-15-33-45.png)
6. 确定系统总得分
## 隶属函数
* 规定因变量范围是[0,1],函数值越大越属于这个区间，类似于概率统计中的分布函数
### 隶属函数的三种确定方法
1. 模糊统计法
2. 借助已有的客观尺度 (需要有合适的指标，并能收集到数据)
3. 指派法 (根据问题的性质直接套⽤某些分布 作为⾪属函数，主观性较强)![](https://img-blog.csdnimg.cn/20200727222745434.png?x-oss-process%3Dimage%2Fwatermark%2Ctype_ZmFuZ3poZW5naGVpdGk%2Cshadow_10%2Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2N5ajk3MjYyODA4OQ%3D%3D%2Csize_16%2Ccolor_FFFFFF%2Ct_70#pic_center)
## 总结
通过模糊变化将U（因素集）上的模糊向量A（权重）变为V（评价集）上的模糊向量B（概率集）
B向量乘上得分向量S的转置即最终得分